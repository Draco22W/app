# 🔥 火柴人打斗游戏

一个现代化、全屏的火柴人打斗游戏，支持技能系统和流畅动画！

## 🎮 游戏特色

- **全屏打斗**：游戏画面塞满整个屏幕，沉浸式体验
- **WASD控制**：现代化的键盘控制方式
- **技能系统**：飞镖攻击和瞬移技能
- **流畅动画**：奔跑、跳跃、攻击的详细动画效果
- **智能AI**：具有策略性的AI对手
- **设置菜单**：ESC键打开游戏设置
- **技能冷却**：实时显示技能冷却状态
- **视觉效果**：攻击特效、瞬移效果、粒子爆炸

## 🎯 游戏目标

击败AI对手！当一方血量降至0时，另一方获胜。

## 🕹️ 操作说明

### 玩家控制 (WASD + 技能)
- **W** - 跳跃
- **A** - 向左移动/奔跑
- **S** - 蹲下（预留功能）
- **D** - 向右移动/奔跑
- **Q** - 释放飞镖技能
- **E** - 瞬移技能
- **ESC** - 打开/关闭设置菜单

### 技能说明
- **飞镖技能 (Q)**：发射飞镖攻击敌人，造成15点伤害，1秒冷却
- **瞬移技能 (E)**：向前瞬移100像素，2秒冷却
- **普通攻击**：近战攻击，造成10点伤害

## 🎨 游戏界面

### 主界面元素
- **全屏画布**：游戏画面占满整个屏幕
- **血量条**：顶部显示双方血量
- **技能冷却**：左下角显示技能冷却状态
- **控制说明**：左下角显示操作提示
- **设置菜单**：ESC键打开，包含音效、音乐、难度设置

### 视觉效果
- **深色背景**：深蓝渐变背景，营造战斗氛围
- **火柴人动画**：走路、奔跑、跳跃、攻击的流畅动画
- **技能特效**：飞镖轨迹、瞬移光环、攻击线条
- **伤害效果**：伤害数字、粒子爆炸、受击闪烁

## 🛠️ 技术实现

### 核心技术
- **HTML5 Canvas**：全屏游戏渲染
- **JavaScript ES6**：游戏逻辑和动画
- **CSS3**：界面样式和特效动画
- **requestAnimationFrame**：60FPS游戏循环

### 游戏系统
- **Player类**：玩家对象，包含位置、血量、技能状态
- **Dart类**：飞镖对象，包含轨迹和碰撞检测
- **物理引擎**：重力、跳跃、地面碰撞
- **动画系统**：多状态动画（走路、奔跑、跳跃、攻击）
- **技能系统**：冷却时间、效果触发
- **AI系统**：智能行为决策

### 动画系统
```javascript
// 奔跑动画
if (this.isRunning) {
    armAngle = Math.sin(this.animationFrame * 0.3) * 0.5;
    legAngle = Math.sin(this.animationFrame * 0.4) * 0.6;
}

// 跳跃动画
if (this.isJumping) {
    legAngle = Math.PI / 6;
}

// 攻击动画
if (this.attacking) {
    armAngle = Math.PI / 4;
}
```

## 🎯 游戏机制

### 血量系统
- 每个玩家初始血量：100
- 普通攻击伤害：10
- 飞镖技能伤害：15
- 血量降至0时游戏结束

### 技能系统
- **飞镖技能**：1秒冷却，远程攻击
- **瞬移技能**：2秒冷却，快速位移
- **冷却显示**：实时显示技能可用状态

### 移动机制
- **走路速度**：4像素/帧
- **奔跑速度**：6像素/帧（按住A/D时）
- **跳跃力度**：15像素
- **重力加速度**：0.8像素/帧²

### AI行为
- **距离控制**：保持最佳攻击距离
- **随机跳跃**：躲避攻击
- **技能使用**：随机使用飞镖和瞬移
- **难度调整**：简单/普通/困难模式

## 🎨 视觉设计

### 色彩方案
- **玩家1**：红色系 (#ff6b6b)
- **玩家2**：蓝色系 (#3742fa)
- **背景**：深蓝渐变 (#1a1a2e → #16213e → #0f3460)
- **地面**：深灰色 (#2c3e50)
- **特效**：红色 (#ff4757)、蓝色 (#00d2ff)

### 动画效果
- **走路动画**：手臂和腿部轻微摆动
- **奔跑动画**：快速的手臂和腿部摆动
- **跳跃动画**：腿部收起的跳跃姿势
- **攻击动画**：手臂前伸的攻击动作
- **技能动画**：飞镖轨迹、瞬移光环
- **受击动画**：闪烁效果、伤害数字

## 🎮 游戏技巧

### 基础技巧
- **保持距离**：利用瞬移技能调整位置
- **技能连击**：飞镖+近战攻击组合
- **跳跃躲避**：跳跃可以躲避飞镖攻击

### 高级技巧
- **瞬移反击**：瞬移到敌人背后攻击
- **技能时机**：在敌人攻击冷却时使用技能
- **走位预判**：预测AI的移动方向

## ⚙️ 设置菜单

按ESC键打开设置菜单：
- **音效开关**：开启/关闭音效
- **音乐开关**：开启/关闭背景音乐
- **难度调整**：简单/普通/困难模式
- **重新开始**：重置游戏状态

## 🚀 如何运行

1. **直接打开**：双击 `index.html` 文件
2. **全屏体验**：按F11进入全屏模式
3. **开始游戏**：按任意键开始，使用WASD控制

## 🔧 自定义选项

可以通过修改代码来自定义游戏：

### 调整技能
```javascript
// 修改飞镖冷却时间
this.dartCooldown = 30; // 0.5秒冷却

// 修改瞬移距离
const teleportDistance = 150; // 增加瞬移距离

// 修改技能伤害
dartDamage = 20; // 增加飞镖伤害
```

### 添加新功能
- 更多技能（护盾、冲刺等）
- 连击系统
- 特殊效果
- 音效系统

## 📱 响应式设计

游戏支持不同屏幕尺寸：
- **全屏适配**：自动调整画布大小
- **窗口调整**：实时响应窗口大小变化
- **UI布局**：界面元素自适应屏幕

## 🐛 已知问题

- 暂无已知问题

## 📝 更新日志

### v2.0.0
- 升级为全屏打斗游戏
- 添加WASD控制系统
- 新增飞镖和瞬移技能
- 改进动画系统（奔跑、跳跃）
- 添加ESC设置菜单
- 优化AI行为

### v1.0.0
- 初始版本发布
- 基础双人对战功能
- 完整的物理系统

## 🤝 贡献

欢迎提交问题和改进建议！

## �� 许可证

MIT License 

// 障碍物生成函数
function createObstacles() {
    obstacles = [];
    // 生成3-5个障碍物
    let count = 3 + Math.floor(Math.random() * 3);
    for (let i = 0; i < count; i++) {
        let w = 60 + Math.random() * 60;
        let h = 30 + Math.random() * 30;
        let x = 100 + Math.random() * (GAME_CONFIG.width - 200 - w);
        let y = GAME_CONFIG.groundY - h - Math.random() * 120;
        let color = `hsl(${Math.random()*360},80%,60%)`;
        obstacles.push(new Obstacle(x, y, w, h, color));
    }
}

// 血包生成函数
function createHealItem() {
    let x = 80 + Math.random() * (GAME_CONFIG.width - 160);
    let y = GAME_CONFIG.groundY - 30 - Math.random() * 100;
    healItems.push(new HealItem(x, y));
} 